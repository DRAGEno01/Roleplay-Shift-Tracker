<UserControl x:Class="RpShiftTracker.DepartmentsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="480" d:DesignWidth="840"
             Background="#121212">

    <UserControl.Resources>
        <!-- Color resources -->
        <SolidColorBrush x:Key="BgColor" Color="#121212"/>
        <SolidColorBrush x:Key="PrimaryText" Color="#F5F5F5"/>
        <SolidColorBrush x:Key="MutedText" Color="#AAAAAA"/>
        <SolidColorBrush x:Key="Accent" Color="#64B5F6"/>
        <SolidColorBrush x:Key="CardBg" Color="#181818"/>
        <SolidColorBrush x:Key="ButtonBg" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="Divider" Color="#252525"/>
        <SolidColorBrush x:Key="AddButtonBg" Color="#1E88E5"/>
        <SolidColorBrush x:Key="AddButtonHover" Color="#1565C0"/>
        <SolidColorBrush x:Key="DeleteButtonBg" Color="#D32F2F"/>
        <SolidColorBrush x:Key="DeleteButtonHover" Color="#B71C1C"/>
        <SolidColorBrush x:Key="DeleteButtonDisabled" Color="#424242"/>
        <SolidColorBrush x:Key="ListItemBg" Color="#1E1E1E"/>

        <!-- Add Button Style -->
        <Style x:Key="AddButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource AddButtonBg}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,2"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="2">
                            <ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Margin="{TemplateBinding Padding}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{StaticResource AddButtonHover}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Delete Button Style -->
        <Style x:Key="DeleteButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource DeleteButtonBg}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="8,2"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="2">
                            <ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Margin="{TemplateBinding Padding}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{StaticResource DeleteButtonHover}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="{StaticResource DeleteButtonDisabled}"/>
                    <Setter Property="Foreground" Value="#999999"/>
                    <Setter Property="Cursor" Value="Arrow"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <ScrollViewer x:Name="MainScrollViewer"
                  VerticalScrollBarVisibility="Auto" 
                  HorizontalScrollBarVisibility="Disabled"
                  Padding="32,32"
                  Focusable="True"
                  PreviewMouseWheel="ScrollViewer_PreviewMouseWheel">
        <StackPanel>
            <!-- Header -->
            <TextBlock Text="Departments" 
                       FontFamily="Segoe UI" 
                       FontSize="20" 
                       FontWeight="Bold"
                       Foreground="{StaticResource PrimaryText}"
                       Margin="0,0,0,4"/>

            <TextBlock Text="Manage departments and servers. Each department has its own separate shift tracking." 
                       FontFamily="Segoe UI" 
                       FontSize="11"
                       Foreground="{StaticResource MutedText}"
                       TextWrapping="Wrap"
                       Margin="0,0,0,16"/>

            <!-- Explanation Card -->
            <Border Background="{StaticResource CardBg}"
                    BorderBrush="{StaticResource Divider}"
                    BorderThickness="1"
                    Margin="0,0,0,16"
                    Padding="12,10">
                <StackPanel>
                    <TextBlock Text="ℹ  What are Departments?" 
                               FontFamily="Segoe UI" 
                               FontSize="13" 
                               FontWeight="Bold"
                               Foreground="{StaticResource PrimaryText}"
                               Margin="0,0,0,2"/>

                    <TextBlock Text="Departments allow you to track shifts separately for different servers, departments, or roleplay communities. Each department maintains its own time log, so you can clock in/out for different departments independently.&#x0a;&#x0a;For example, you might create departments like 'Police Department', 'Fire Department', 'EMS', or different server names. This lets you track your hours for each one separately." 
                               FontFamily="Segoe UI" 
                               FontSize="11"
                               Foreground="{StaticResource MutedText}"
                               TextWrapping="Wrap"
                               LineHeight="18"/>
                </StackPanel>
            </Border>

            <!-- Manage Departments Card -->
            <Border Background="{StaticResource CardBg}"
                    BorderBrush="{StaticResource Divider}"
                    BorderThickness="1"
                    Padding="12,10">
                <StackPanel>
                    <TextBlock Text="⚙  Manage Departments" 
                               FontFamily="Segoe UI" 
                               FontSize="13" 
                               FontWeight="Bold"
                               Foreground="{StaticResource PrimaryText}"
                               Margin="0,0,0,2"/>

                    <TextBlock Text="Create, rename, or delete departments." 
                               FontFamily="Segoe UI" 
                               FontSize="11"
                               Foreground="{StaticResource MutedText}"
                               TextWrapping="Wrap"
                               Margin="0,0,0,8"/>

                    <!-- Departments List -->
                    <Border Background="{StaticResource ListItemBg}"
                            BorderBrush="{StaticResource Divider}"
                            BorderThickness="1"
                            Height="200"
                            Margin="0,0,0,8">
                        <ScrollViewer x:Name="DepartmentsListScrollViewer"
                                      VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled"
                                      PreviewMouseWheel="ScrollViewer_PreviewMouseWheel">
                            <StackPanel x:Name="DepartmentsListPanel"
                                        Margin="4,2"/>
                        </ScrollViewer>
                    </Border>

                    <!-- Add New Department Section -->
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="New Department:" 
                                   FontFamily="Segoe UI" 
                                   FontSize="11"
                                   Foreground="{StaticResource MutedText}"
                                   VerticalAlignment="Center"
                                   Margin="0,0,8,0"/>

                        <TextBox x:Name="NewDepartmentTextBox"
                                 Width="200"
                                 Height="24"
                                 FontFamily="Segoe UI"
                                 FontSize="11"
                                 Background="{StaticResource ButtonBg}"
                                 Foreground="{StaticResource PrimaryText}"
                                 BorderBrush="{StaticResource Divider}"
                                 BorderThickness="1"
                                 Padding="4,2"
                                 Margin="0,0,8,0"
                                 KeyDown="NewDepartmentTextBox_KeyDown"/>

                        <Button x:Name="AddDepartmentButton"
                                Content="Add"
                                Style="{StaticResource AddButtonStyle}"
                                Click="AddDepartmentButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>

